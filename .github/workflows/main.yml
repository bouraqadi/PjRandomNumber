name: PharoJS for GitHub Pages
run-name: Deploy a PharoJS App as a GitHub Page ðŸš€
on: [push]
jobs:
  build:
    runs-on: ubuntu-latest
    steps:
      - name: Check out repository code
        uses: actions/checkout@v3
        with:
          fetch-depth: 0 # Depth 0 = clone the repo and all its history as required by Iceberg
      - name: Install SmalltalkCI
        uses: hpi-swa/setup-smalltalkCI@v1
        id: smalltalkci
        with:
          smalltalk-image: 'Pharo64-11'
      - name: Install Chrome
        uses: browser-actions/setup-chrome@v1
      - name: Running SmalltalkCI
        run: smalltalkci -s ${{ steps.smalltalkci.outputs.smalltalk-image }}
        shell: bash
        timeout-minutes: 15
    

